<idea-plugin>
  <id>com.github.sulir.runtimesave</id>
  <name>RuntimeSave</name>
  <vendor email="matus.sulir@gmail.com" url="https://sulir.github.io">Matúš Sulír</vendor>
  <description>
    Saves the runtime values of variables in a graph database and loads them for various purposes
  </description>

  <depends>com.intellij.modules.platform</depends>
  <depends>com.intellij.java</depends>

  <resource-bundle>messages.Bundle</resource-bundle>

  <extensions defaultExtensionNs="com.intellij">
    <postStartupActivity implementation="com.github.sulir.runtimesave.StartupActivity"/>
    <executor implementation="com.github.sulir.runtimesave.sample.SamplingExecutor"/>
    <programRunner implementation="com.github.sulir.runtimesave.sample.SamplingRunner"/>
    <xdebugger.breakpointType implementation="com.github.sulir.runtimesave.savepoint.SavepointType"/>
    <debugger.javaBreakpointHandlerFactory
            implementation="com.github.sulir.runtimesave.savepoint.SavepointHandlerFactory"/>
  </extensions>

  <actions>
    <action id="RuntimeSave.StartProgramAction" class="com.github.sulir.runtimesave.start.StartProgramAction"
            icon="AllIcons.Debugger.SmartStepInto">
      <add-to-group group-id="RunMenu" anchor="after" relative-to-action="ChooseDebugConfiguration"/>
      <keyboard-shortcut keymap="$default" first-keystroke="F10"/>
    </action>

    <action id="RuntimeSave.AddSavepointAction" class="com.github.sulir.runtimesave.savepoint.AddSavepointAction">
      <add-to-group group-id="XDebugger.Hover.Breakpoint.Context.Menu" anchor="last"/>
    </action>
  </actions>

  <projectListeners>
    <listener class="com.github.sulir.runtimesave.sample.SamplingListener"
              topic="com.intellij.debugger.impl.DebuggerManagerListener"/>
    <listener class="com.github.sulir.runtimesave.savepoint.SavepointListener"
              topic="com.intellij.debugger.impl.DebuggerManagerListener"/>
    <listener class="com.github.sulir.runtimesave.start.StartLineListener"
              topic="com.intellij.debugger.impl.DebuggerManagerListener"/>
  </projectListeners>
</idea-plugin>